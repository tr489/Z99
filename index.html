<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Z' D√ñV - Keli Edition</title>
    <style>
        /* --- HIER IST DAS DESIGN (CSS) --- */
        :root {
            --bg-color: #1a1a2e;
            --card-bg: #16213e;
            --text-color: #fff;
            --accent-color: #e94560;
            --green: #2ed573;
        }

        body {
            font-family: Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            user-select: none; /* Kein Text markieren */
        }

        .game-card {
            background-color: var(--card-bg);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
            text-align: center;
            width: 90%;
            max-width: 400px;
            border: 2px solid #333;
        }

        h1 { margin: 0; color: var(--accent-color); font-size: 2rem; text-transform: uppercase; }
        
        .score-board {
            font-size: 1.2rem;
            margin: 15px 0;
            background: rgba(255,255,255,0.1);
            padding: 5px;
            border-radius: 5px;
        }

        /* Das Spielfeld */
        .arena {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            margin: 20px 0;
        }

        /* Der Glatzkopf */
        #keli-face {
            font-size: 120px; /* Hier Gr√∂√üe √§ndern */
            cursor: pointer;
            transition: transform 0.1s;
            line-height: 1;
            margin: 10px 0;
            display: inline-block;
        }

        /* Animation beim Schlag */
        .hit-anim {
            transform: scale(0.9) rotate(15deg);
        }

        .dead-anim {
            filter: grayscale(100%);
            opacity: 0.5;
            transform: rotate(180deg);
            pointer-events: none;
        }

        /* Lebensbalken */
        .bar-container {
            width: 100%;
            background: #333;
            height: 20px;
            border-radius: 10px;
            overflow: hidden;
            position: relative;
        }

        .bar-fill {
            height: 100%;
            width: 100%;
            transition: width 0.2s ease, background-color 0.2s;
        }

        #enemy-bar { background-color: var(--accent-color); }
        #player-bar { background-color: var(--green); }

        .bar-label {
            display: flex;
            justify-content: space-between;
            font-size: 0.8rem;
            margin-bottom: 2px;
            color: #ccc;
        }

        /* Buttons */
        .btn {
            background-color: var(--accent-color);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.5rem;
            border-radius: 50px;
            cursor: pointer;
            width: 100%;
            font-weight: bold;
            box-shadow: 0 4px 0 #c0392b;
            transition: transform 0.1s;
        }

        .btn:active { transform: translateY(4px); box-shadow: none; }
        .btn:disabled { background-color: #555; box-shadow: none; cursor: not-allowed; }

        .btn-reset { background-color: var(--green); box-shadow: 0 4px 0 #218c74; }
        
        .hidden { display: none; }
        .log { margin-top: 15px; font-style: italic; min-height: 20px; color: #aaa; }

    </style>
</head>
<body>

    <div class="game-card">
        <header>
            <h1>Z' D√ñV</h1>
            <small>Keli Edition</small>
        </header>

        <div class="score-board">
            Schl√§ge: <strong id="score">0</strong>
        </div>

        <main class="arena">
            
            <div style="width: 100%;">
                <div class="bar-label"><span>Du</span></div>
                <div class="bar-container">
                    <div id="player-bar" class="bar-fill"></div>
                </div>
            </div>

            <div id="keli-face">üë®‚Äçü¶≤</div>

            <div style="width: 100%;">
                <div class="bar-label"><span>Keli</span> <span id="hp-text">100%</span></div>
                <div class="bar-container">
                    <div id="enemy-bar" class="bar-fill"></div>
                </div>
            </div>

        </main>

        <div class="controls">
            <button id="hit-btn" class="btn">BAM! üëä</button>
            <button id="reset-btn" class="btn btn-reset hidden">Nochmal? üîÑ</button>
        </div>

        <p id="msg" class="log">Keli guckt frech...</p>
    </div>

    <script>
        // Variablen
        let score = 0;
        let enemyHp = 100;
        let playerHp = 100;
        let isGameOver = false;

        // Elemente
        const face = document.getElementById('keli-face');
        const scoreEl = document.getElementById('score');
        const enemyBar = document.getElementById('enemy-bar');
        const playerBar = document.getElementById('player-bar');
        const hpText = document.getElementById('hp-text');
        const msg = document.getElementById('msg');
        const hitBtn = document.getElementById('hit-btn');
        const resetBtn = document.getElementById('reset-btn');

        // Klick Events
        hitBtn.addEventListener('click', attack);
        face.addEventListener('click', attack); // Man kann auch aufs Gesicht klicken
        resetBtn.addEventListener('click', restart);

        function attack() {
            if (isGameOver) return;

            // 1. Daten √§ndern
            score++;
            scoreEl.textContent = score;

            // Schaden (Zufall 10-20)
            let damage = Math.floor(Math.random() * 11) + 10;
            enemyHp -= damage;
            
            // Spieler verliert etwas Kraft (1-3)
            playerHp -= Math.floor(Math.random() * 3) + 1;

            if (enemyHp < 0) enemyHp = 0;
            if (playerHp < 0) playerHp = 0;

            // 2. Visuelles Update
            updateBars();
            animateFace();

            msg.textContent = "PATS! -" + damage + " Schaden!";

            // 3. Check ob tot
            if (enemyHp <= 0) {
                gameOver(true);
            } else if (playerHp <= 0) {
                gameOver(false);
            }
        }

        function animateFace() {
            face.classList.add('hit-anim');
            face.textContent = "ü§ï"; // Aua Gesicht

            setTimeout(() => {
                face.classList.remove('hit-anim');
                if (!isGameOver) {
                    face.textContent = "üë®‚Äçü¶≤"; // Zur√ºck zum Normalen Gesicht
                }
            }, 200);
        }

        function updateBars() {
            enemyBar.style.width = enemyHp + "%";
            playerBar.style.width = playerHp + "%";
            hpText.textContent = enemyHp + "%";

            // Rot wenn wenig Leben
            if (enemyHp < 30) enemyBar.style.backgroundColor = "red";
        }

        function gameOver(won) {
            isGameOver = true;
            hitBtn.classList.add('hidden');
            resetBtn.classList.remove('hidden');

            if (won) {
                msg.textContent = "üèÜ GEWONNEN! Glatze poliert!";
                face.textContent = "üòµ"; // K.O. Gesicht
                face.classList.add('dead-anim');
            } else {
                msg.textContent = "üíÄ VERLOREN! Du bist zu m√ºde.";
            }
        }

        function restart() {
            score = 0;
            enemyHp = 100;
            playerHp = 100;
            isGameOver = false;

            scoreEl.textContent = "0";
            msg.textContent = "Neues Spiel!";
            
            face.textContent = "üë®‚Äçü¶≤";
            face.classList.remove('dead-anim');
            enemyBar.style.backgroundColor = "#e94560"; // Reset Farbe
            
            hitBtn.classList.remove('hidden');
            resetBtn.classList.add('hidden');

            updateBars();
        }
    </script>
</body>
</html>
